<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h2 class="h4">Lista de Importadores de DLL</h2>
    <p class="lead">Resultado del escaneo por reflexi√≥n en el backend.</p>
  </div>
  <div class="alert alert-info mb-0">
    Visitas: <strong>{{ counterService.getCount() }}</strong>
  </div>
</div>

<div class="mb-4">
  <button class="btn btn-primary" (click)="fetchImporters()" [disabled]="isLoading">
    <span *ngIf="isLoading; else buttonText">
      <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
      Cargando...
    </span>
    <ng-template #buttonText>Buscar Importadores</ng-template>
  </button>
</div>

<div *ngIf="isLoading" class="text-center">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-2">Consultando el endpoint del backend...</p>
</div>

<div *ngIf="error" class="alert alert-danger">
  <h4 class="alert-heading">Error</h4>
  <p>{{ error }}</p>
</div>

<div *ngIf="!isLoading && !error && fetchAttempted">

  <div *ngIf="importers.length === 0" class="alert alert-secondary">
    No se encontraron DLLs que implementen la interfaz `ImporterInterface`.
  </div>

  <ul *ngIf="importers.length > 0" class="list-group">
    <li *ngFor="let importer of importers" class="list-group-item">
      {{ importer }}
    </li>
  </ul>
</div>
